<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentação do Sistema GridFlow</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-900 text-gray-300 p-8">
    <div class="max-w-4xl mx-auto">
        <header class="text-center mb-12">
            <h1 class="text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-sky-500">Documentação do Sistema GridFlow</h1>
            <p class="mt-2 text-lg text-gray-400">Uma visão geral completa dos requisitos, diagramas e funcionalidades do sistema.</p>
        </header>
        <main class="space-y-12">
            <div class="flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-4 mb-8">
                <button id="btn-layouts" class="px-4 py-2 rounded-lg font-semibold text-white transition-colors duration-300 hover:bg-gray-700 bg-purple-600" onclick="showDiagramGroup('group-layouts')">Designs de Layout</button>
                <button id="btn-conceptual-flows" class="px-4 py-2 rounded-lg font-semibold text-white transition-colors duration-300 hover:bg-gray-700 bg-gray-800" onclick="showDiagramGroup('group-conceptual-flows')">Fluxos Conceituais</button>
                <button id="btn-data-structures" class="px-4 py-2 rounded-lg font-semibold text-white transition-colors duration-300 hover:bg-gray-700 bg-gray-800" onclick="showDiagramGroup('group-data-structures')">Estruturas de Dados</button>
                <button id="btn-types" class="px-4 py-2 rounded-lg font-semibold text-white transition-colors duration-300 hover:bg-gray-700 bg-gray-800" onclick="showDiagramGroup('group-types')">Tipos de Planilhas/Relatórios</button>
                <button id="btn-architecture" class="px-4 py-2 rounded-lg font-semibold text-white transition-colors duration-300 hover:bg-gray-700 bg-gray-800" onclick="showDiagramGroup('group-architecture')">Estrutura de Arquivos</button>
            </div>

            <div id="group-layouts" class="space-y-12">
                <div class="bg-gray-800 rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-sky-400 mb-4">Tela de Login</h2>
                    <pre class="bg-gray-900 text-gray-300 p-4 rounded-lg overflow-x-auto">
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
| +-----------------------------------------------------------+ |
| Login                                                       |
| Entre com seu usuário e senha para continuar                |
| +-----------------------------------------------------------+ |
| Usuário (*)                                                 |
| [____________________________________]                      |
|                                                             |
| Senha (*)                                                   |
| [____________________________________]                      |
|                                                             |
|   [ Botão Entrar ]    [ Botão Cadastrar ]                   |
|                                                             |
| [ Esqueci a Senha ]                                         |
|                                                             |
| (Aviso: O login está demorando mais que o esperado...)      |
| (Aviso: Você errou a senha 3 vezes. Programa será fechado.) |
|+------------------------------------------------------------+ |
¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯
</pre>
                </div>
                <div class="bg-gray-800 rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-sky-400 mb-4">Tela De Cadastro</h2>
                    <pre class="bg-gray-900 text-gray-300 p-4 rounded-lg overflow-x-auto">
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
| +-----------------------------------------------------------+ |
|                                                             |
| Cadastro                                                    |
|                                                             |
| +-----------------------------------------------------------+ |
|                                                             |
| Preencha os campos para cadastrar                           |
|                                                             |
| +-----------------------------------------------------------+ |
|                                                             |
| Informações Pessoais                                        |
|                                                             |
| +-----------------------------------------------------------+ |
|                                                             |
| Nome Completo (*)                                           |
| [____________________________________]                      |
|                                                             |
| CPF (*)                                                     |
| [____________________________________]                      |
|                                                             |
| Data de Nascimento                                          |
| [__/__/____] (ícone de calendário)                          |
|                                                             |
| +-----------------------------------------------------------+ |
| Contatos                                                    |
|                                                             |
| Email (*)                                                   |
| [____________________________________]                      |
|                                                             |
| Telefone                                                    |
| [____________________________________]                      |
|                                                             |
| +-----------------------------------------------------------+ |
|                                                             |
|     [ Botão Cancelar ] [ Botão Salvar ]                     |
|                                                             |
| +-----------------------------------------------------------+ |
¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯ ¯
</pre>
                </div>
                <div class="bg-gray-800 rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-sky-400 mb-4">Tela Dashboard Inicial</h2>
                    <pre class="bg-gray-900 text-gray-300 p-4 rounded-lg overflow-x-auto">
+------------------------------------------------+
| Dashboard                                      |
+------------------------------------------------+
| [Ícone] Dashboard    [Ícone] CRUDs     [Ícone] Relatórios  [Ícone] Sair |
| [ Alterar Senha ]
+------------------------------------------------+
| Cartão: CRUDs Criados                          |
| Quantidade: 3 de 10                            |
| [ Criar Novo ]                                 |
+------------------------------------------------+
| Cartão: Relatórios Criados                     |
| Quantidade: 1 de 5                             |
| [ Criar Novo ]                                 |
+------------------------------------------------+
| Cartão: Últimos CRUDs Acessados                |
| - Clientes                                     |
| - Produtos                                     |
+------------------------------------------------+
| Cartão: Últimos Relatórios Gerados             |
| - Vendas mensais                               |
+------------------------------------------------+
</pre>
                </div>
                <div class="bg-gray-800 rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-sky-400 mb-4">Tela de Listagem de CRUDs</h2>
                    <pre class="bg-gray-900 text-gray-300 p-4 rounded-lg overflow-x-auto">
+------------------------------------------------+
| CRUDs                                          |
+------------------------------------------------+
| [ Botão Novo CRUD ] (desativado se =10 CRUDs)  |
|                                                |
| [ Campo de Busca Avançada ]                    |
|                                                |
+------------------------------------------------+
| Tabela:                                        |
| +--------------------------------------------------------------+ |
| | Nome do CRUD | Tabela Vinculada | Editar | Visualizar | Deletar | |
| +--------------------------------------------------------------+ |
| | Clientes     | tabela_clientes  | [✏️]    | [🔍]       | [🗑️]   | |
| | Produtos     | tabela_produtos  | [✏️]    | [🔍]       | [🗑️]   | |
| +--------------------------------------------------------------+ |
</pre>
                </div>
                <div class="bg-gray-800 rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-sky-400 mb-4">Tela de Criação / Edição de CRUD</h2>
                    <pre class="bg-gray-900 text-gray-300 p-4 rounded-lg overflow-x-auto">
+----------------------------------------------------------+
| Novo CRUD / Editar CRUD: [Nome do CRUD]                  |
+----------------------------------------------------------+
| Nome do CRUD (*)                                         |
| [___________________________]                            |
|                                                          |
| Descrição                                                |
| [______________________________________________]         |
|                                                          |
| Seleção de Tabela (*)                                    |
| [Dropdown: clientes, produtos, vendas, etc.]             |
|
| Configuração de Campos                                   |
| +----------------------------------------------------+   |
| | Nome do Campo | Tipo de Campo | Obrigatório | Exibir | Chave | |
| |---------------|---------------|-------------|--------|-------| |
| | Nome          | Texto         | [✓]         | [✓]    | [ ]   | |
| | CPF           | Texto         | [✓]         | [✓]    | [ ]   | |
| | Data Nasc.    | Data          | [ ]         | [✓]    | [ ]   | |
| +----------------------------------------------------+   |
|                                                          |
| [ Botão Cancelar ]                    [ Botão Salvar ]   |
+----------------------------------------------------------+
</pre>
                </div>
                <div class="bg-gray-800 rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-sky-400 mb-4">Tela de Visualização do CRUD (Gerenciar)</h2>
                    <pre class="bg-gray-900 text-gray-300 p-4 rounded-lg overflow-x-auto">
+----------------------------------------------------------+
| Gerenciar: [Nome do CRUD]                                |
+----------------------------------------------------------+
| [ Botão Novo [Item]]                                     |
| [ Botão Exportar para JSON ]                             |
+----------------------------------------------------------+
| Tabela de dados:                                         |
| +----------------------------------------------+         |
| | Nome      | Telefone | Email               | Ações   | |
| +----------------------------------------------+---------+ |
| | João Silva| 1199999  | joao@email.com      |[✏️][🗑️]| |
| | Maria Rosa| 1188888  | maria@email.com     |[✏️][🗑️]| |
| +----------------------------------------------+---------+ |
+----------------------------------------------------------+
</pre>
                </div>
                <div class="bg-gray-800 rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-sky-400 mb-4">Tela de Listagem de Relatórios</h2>
                    <pre class="bg-gray-900 text-gray-300 p-4 rounded-lg overflow-x-auto">
+----------------------------------------------------------+
| Relatórios                                               |
+----------------------------------------------------------+
| [ Botão Novo Relatório ] (desativado se =5 relatórios)   |
+----------------------------------------------------------+
| Tabela:                                                  |
| +------------------------------------------------------------------+ |
| | Nome do Relatório  | Fonte de Dados | Gerar | Editar | Deletar | |
| +------------------------------------------------------------------+ |
| | Vendas por Mês     | Tabela Vendas  | [📊]  | [✏️]    | [🗑️]    | |
| | Clientes Ativos    | CRUD Clientes  | [📊]  | [✏️]    | [🗑️]    | |
| +------------------------------------------------------------------+ |
</pre>
                </div>
                <div class="bg-gray-800 rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-sky-400 mb-4">Tela de Criação / Edição de Relatório</h2>
                    <pre class="bg-gray-900 text-gray-300 p-4 rounded-lg overflow-x-auto">
+----------------------------------------------------------+
| Novo Relatório / Editar Relatório: [Nome do Relatório]   |
+----------------------------------------------------------+
| Nome do Relatório (*)                                    |
| [_____________________________]                          |
|                                                          |
| Descrição                                                |
| [_______________________________________]                |
|                                                          |
| Fonte de Dados (*)                                       |
| [Dropdown: Tabela ou CRUD]                               |
|                                                          |
| Tipo de Relatório                                        |
| ( ) Barra   ( ) Linha   ( ) Pizza   ( ) Tabela de Dados  |
|                                                          |
| Configuração do Gráfico                                  |
| Eixo X (*)                                               |
| [Dropdown com campos da fonte]                           |
|                                                          |
| Eixo Y (*)                                               |
| [Dropdown com campos numéricos da fonte]                 |
|                                                          |
| Agregação (*)                                            |
| [Dropdown: Soma, Média, Contagem]                        |
|                                                          |
| Filtros                                                  |
| Campo                                                    |
| [Dropdown campos da fonte]                               |
| Operador                                                 |
| [Dropdown: Igual a, Maior que, Entre...]                 |
| Valor                                                    |
| [_____________________]                                  |
|                                                          |
| [ Botão Cancelar ]                      [ Botão Salvar ] |
+----------------------------------------------------------+
</pre>
                </div>
                <div class="bg-gray-800 rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-sky-400 mb-4">Tela de Visualização do Relatório</h2>
                    <pre class="bg-gray-900 text-gray-300 p-4 rounded-lg overflow-x-auto">
+----------------------------------------------------------+
| Relatório: [Nome do Relatório]                           |
+----------------------------------------------------------+
| [Gráfico ou tabela gerado com base na configuração]      |
|                                                          |
| Filtros Aplicados:                                       |
| | Campo1 = Valor1                                          |
| | Campo2 > Valor2                                          |
|                                                          |
| [ Botão Exportar PDF ]                                   |
| [ Botão Exportar CSV ]                                   |
|                                                          |
| [ Botão Voltar ]                                         |
+----------------------------------------------------------+
</pre>
                </div>
                <div class="bg-gray-800 rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-sky-400 mb-4">Tela de Ativação de CRUD Pública</h2>
                    <pre class="bg-gray-900 text-gray-300 p-4 rounded-lg overflow-x-auto">
+----------------------------------------------------------+
| Gerenciar: [Nome do CRUD]                                |
+----------------------------------------------------------+
| [ Botão Tornar Público ]                                 |
|                                                          |
| **Pop-up de Consentimento Legal** |
| +------------------------------------------------------+ |
| | Aviso Legal: Você concorda com os termos...          | |
| |                                                      | |
| | Temporizador: [ 15 segundos ]                        | |
| |                                                      | |
| | [ Botão Aceitar e Publicar (Desabilitado) ]          | |
| +------------------------------------------------------+ |
+----------------------------------------------------------+
</pre>
                </div>
                <div class="bg-gray-800 rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-sky-400 mb-4">Tela da View Admin</h2>
                    <pre class="bg-gray-900 text-gray-300 p-4 rounded-lg overflow-x-auto">
+------------------------------------------------+
| Admin View                                     |
+------------------------------------------------+
| [Ícone] Dashboard    [Ícone] CRUDs     [Ícone] Relatórios  [Ícone] Sair |
| [ Alterar Senha ]
+------------------------------------------------+
| Seções Administrativas:                        |
|                                                |
| [ Gerenciamento de Usuários ]                  |
| [ Visualização de Logs de Atividade ]          |
| [ Painel de Denúncias ]                        |
|                                                |
+------------------------------------------------+
</pre>
                </div>
            </div>

            <div id="group-conceptual-flows" class="space-y-12 hidden">
                <div class="bg-gray-800 rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-sky-400 mb-4">Fluxo de Login e Autenticação</h2>
                    <pre class="bg-gray-900 text-gray-300 p-4 rounded-lg overflow-x-auto">
+-------------------------------------------------------------+
| Fluxo de Autenticação                        |
+-------------------------------------------------------------+
|                                                             |
| [Início] -> Escolher Modo de Login -> [Modo Público]        |
|                                                             |
|           [Modo Público]                                    |
|           1. Envia credenciais (usuário/senha) ao servidor (Docker).|
|           2. Servidor valida no PostgreSQL.                 |
|           3. Se sucesso, autentica usuário.                 |
|           4. Se falha, conta tentativas.                    |
|           5. Após 3 falhas, encerra o programa.             |
|           6. Após 5 tentativas sem resposta do servidor, exibe alerta.|
|                                                             |
|           [Modo Privado]                                    |
|           1. Credenciais verificadas em arquivo JSON local. |
|           2. Se sucesso, autentica localmente.              |
|           3. Não há conexão com o servidor.                 |
|                                                             |
| (Exibe Termo de Responsabilidade Legal no login público.)   |
|                                                             |
+-------------------------------------------------------------+
</pre>
                </div>
                <div class="bg-gray-800 rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-sky-400 mb-4">Visões do Sistema (Views)</h2>
                    <pre class="bg-gray-900 text-gray-300 p-4 rounded-lg overflow-x-auto">
+-------------------------------------------------------------+
| view_admin (Interna)                        |
+-------------------------------------------------------------+
| •  Acessível apenas na versão interna da empresa.           |
| •  Requer login bem-sucedido de nível 'admin' no PostgreSQL.|
| •  Envia 'ping' ao servidor após login bem-sucedido. |
| •  Pode visualizar e filtrar todas as Planilhas e Relatórios|
|    no PostgreSQL.                                           |
+-------------------------------------------------------------+
|                                                             |
+-------------------------------------------------------------+
| view_usuario (Público)                     |
+-------------------------------------------------------------+
| •  Acessível em qualquer versão da aplicação.               |
| •  Acesso por login público (PostgreSQL) ou privado (JSON). |
| •  Funcionalidades:                                         |
|    • Gerenciar Planilhas e Relatórios.                      |
|    • Limite de 10 Planilhas em modo público.                |
|    • Exportar dados para arquivos JSON.                     |
+-------------------------------------------------------------+
</pre>
                </div>
                <div class="bg-gray-800 rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-sky-400 mb-4">Fluxo de Dados</h2>
                    <pre class="bg-gray-900 text-gray-300 p-4 rounded-lg overflow-x-auto">
+--------------------------------------------------------------------------------------------------------------------------------+
| Fluxo de Dados                                                        |
+--------------------------------------------------------------------------------------------------------------------------------+
|                                                                                                                                |
|                                                                    +-----------------+                                         |
|                                                                    |   Arquivo JSON  |                                         |
|                                                                    |     (Local)     |                                         |
|                                                                    +-------^---------+                                         |
|                                                                            |                                                     |
|                                                                     Modo Privado                                                 |
|                                                                            |                                                     |
| +-----------------------------------------------------+   <----------------+------------------>  +-----------------------------+ |
| | Aplicação Delphi 12                                 |                    Acesso e Sincronização                 | Banco de Dados            | |
| | (GridFlow)                                        |                                                         |   PostgreSQL (Servidor)     | |
| +-----------------------------------------------------+   <----------------+------------------>  +-----------------------------+ |
|                                                                            |                                                     |
|                                                                     Modo Público                                                 |
|                                                                            |                                                     |
|                                                                    +-------v---------+                                         |
|                                                                    | Servidor Docker |                                         |
|                                                                    |   (API/DB)      |                                         |
|                                                                    +-----------------+                                         |
|                                                                                                                                |
|                                                                                                                                |
| - A aplicação Delphi é o ponto central.                                                                                        |
| - No Modo Privado, lê/escreve diretamente no JSON.                                                                             |
| - No Modo Público, se comunica com o Servidor Docker, que interage com o PostgreSQL.                                           |
+--------------------------------------------------------------------------------------------------------------------------------+
</pre>
                </div>
            </div>

            <div id="group-data-structures" class="space-y-12 hidden">
                <div class="bg-gray-800 rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-sky-400 mb-4">Estruturas de Dados (Delphi Records)</h2>
                    <pre class="bg-gray-900 text-gray-300 p-4 rounded-lg overflow-x-auto">
+-------------------------------------------------------------+
| TLoginDTO                               |
+-------------------------------------------------------------+
| •  Finalidade: Carregar credenciais (usuário e senha).      |
| •  Uso: Validação no login público (PostgreSQL) e privado   |
|    (JSON local).                                            |
+-------------------------------------------------------------+
|                                                             |
+-------------------------------------------------------------+
| TPlanilha                             |
+-------------------------------------------------------------+
| •  Finalidade: Representar uma planilha.                    |
| •  Campos: Nome e caminho do arquivo.                       |
+-------------------------------------------------------------+
|                                                             |
+-------------------------------------------------------------+
|                      TLogEntry                              |
+-------------------------------------------------------------+
| •  Finalidade: Registrar entradas de log.                   |
| •  Campos: ID do usuário, tipo de usuário ('admin'/'usuario')|
|    ação, e nível de acesso necessário para a ação.          |
+-------------------------------------------------------------+
</pre>
                </div>
            </div>

            <div id="group-types" class="space-y-12 hidden">
                <div class="bg-gray-800 rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-sky-400 mb-4">Tipos de Planilhas e Relatórios</h2>
                    <pre class="bg-gray-900 text-gray-300 p-4 rounded-lg overflow-x-auto">
+-------------------------------------------------------------+
| Tipos de Planilhas (Vistas)                |
+-------------------------------------------------------------+
| •  Planilhas: Lista e gerencia planilhas.                   |
| •  Relatórios: Lista e gerencia relatórios.                 |
| •  Planilhas com seus Relatórios: Associa relatórios a planilhas.|
| •  Seleção para Compartilhamento: Funcionalidades para exportar|
|    planilhas e relatórios específicos ou em conjunto.       |
| •  Editores: Interfaces completas para criação/edição.      |
+-------------------------------------------------------------+
|                                                             |
+-------------------------------------------------------------+
| Tipos de Relatórios                        |
+-------------------------------------------------------------+
| •  Análise de Dados:                                        |
|    • Analítico: Focado em análise de estoque, desempenho.   |
|    • Quantidade de dados em colunas.                        |
| •  Visualização de Dados:                                   |
|    • Gráfico/Visual: Gráfico de Gantt, etc.                 |
| •  Logs e Auditoria:                                        |
|    • Relatório de Auditoria: Log detalhado de atividades.   |
| •  Alertas:                                                 |
|    • Riscos/Alertas: Produtos com estoque baixo, pagamentos atrasados.|
+-------------------------------------------------------------+
</pre>
                </div>
            </div>

            <div id="group-architecture" class="space-y-12 hidden">
                <div class="bg-gray-800 rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-sky-400 mb-4">Estrutura de Arquivos e Pastas</h2>
                    <p class="text-gray-400 mb-4">Abaixo está o diagrama da estrutura de diretórios do projeto, detalhando a função de cada pasta e seus principais arquivos.</p>
                    <pre class="bg-gray-900 text-gray-300 p-4 rounded-lg overflow-x-auto" style="font-family: 'Fira Code', monospace;">
GridFlow/
└── CRUDMaker/
    ├── assets/
    │   ├── icons/
    │   └── images/
    │
    ├── bin/
    ├── libs/
    ├── packages/
    │
    └── src/
        ├── model/
        │   ├── ULoginDTO.pas
        │   ├── UUsuarioDTO.pas
        │   ├── UPlanilhaDTO.pas
        │   ├── URelatorioDTO.pas
        │   ├── ULogEntryDTO.pas
        │   ├── UAceiteTermoDTO.pas
        │   ├── UDBConnection.pas
        │   ├── UPostgresDAO.pas
        │   ├── UJSONDataHandler.pas
        │   └── USecurityDataHandler.pas
        │
        ├── service/
        │   ├── UAuthService.pas
        │   ├── UPlanilhaService.pas
        │   ├── URelatorioService.pas
        │   ├── ULogService.pas
        │   ├── UExportacaoService.pas
        │   └── UConfigService.pas
        │
        ├── controller/
        │   └── (controladores específicos por funcionalidade)
        │
        ├── view/
        │   ├── UViewLogin.pas
        │   ├── UViewPrincipal.pas
        │   ├── UViewEditorPlanilha.pas
        │   ├── UViewEditorRelatorio.pas
        │   ├── UViewGerenciadorDados.pas
        │   ├── UViewCompartilhamento.pas
        │   ├── UViewVisualizadorRelatorio.pas
        │   └── UViewModalTermos.pas
        │
        └── utils/
            ├── UAppConstants.pas
            ├── UAppUtils.pas
            └── UServerPinger.pas
</pre>

                    <div class="mt-6 text-gray-300 space-y-4">
                        <h3 class="text-xl font-bold text-teal-400">src/model/ (Camada de Modelo)</h3>
                        <p>Responsável por definir e gerenciar os dados da aplicação, além de lidar com acesso a dados.</p>
                        <ul class="list-disc list-inside">
                            <li><strong>ULoginDTO.pas</strong> → Objeto para carregar usuário e senha, repassando-os para serviços de autenticação.</li>
                            <li><strong>UUsuarioDTO.pas</strong> → Representa informações de usuário, usado para transferir dados entre camadas.</li>
                            <li><strong>UPlanilhaDTO.pas</strong> → Representa uma planilha, armazenando título e conteúdo.</li>
                            <li><strong>URelatorioDTO.pas</strong> → Encapsula os dados de um relatório.</li>
                            <li><strong>ULogEntryDTO.pas</strong> → Representa entradas de log do sistema.</li>
                            <li><strong>UAceiteTermoDTO.pas</strong> → Registra informações sobre aceite de termos de uso.</li>
                            <li><strong>UDBConnection.pas</strong> → Gerencia a conexão FireDAC com o banco PostgreSQL.</li>
                            <li><strong>UPostgresDAO.pas</strong> → Implementa a camada de acesso ao banco PostgreSQL.</li>
                            <li><strong>UJSONDataHandler.pas</strong> → Converte DTOs para JSON e vice-versa.</li>
                            <li><strong>USecurityDataHandler.pas</strong> → Implementa segurança, hash de senhas e verificação.</li>
                        </ul>

                        <h3 class="text-xl font-bold text-teal-400 mt-6">src/service/ (Camada de Serviço)</h3>
                        <p>Contém a lógica de negócio, utilizando os modelos e manipulando os dados.</p>
                        <ul class="list-disc list-inside">
                            <li><strong>UAuthService.pas</strong> → Realiza autenticação, valida credenciais, consulta banco.</li>
                            <li><strong>UPlanilhaService.pas</strong> → Lida com criação, leitura, edição e exclusão de planilhas.</li>
                            <li><strong>URelatorioService.pas</strong> → Gera relatórios com base nos dados.</li>
                            <li><strong>ULogService.pas</strong> → Registra eventos e ações do sistema.</li>
                            <li><strong>UExportacaoService.pas</strong> → Exporta dados para CSV e PDF.</li>
                            <li><strong>UConfigService.pas</strong> → Carrega e gerencia as configurações globais da aplicação.</li>
                        </ul>

                        <h3 class="text-xl font-bold text-teal-400 mt-6">src/view/ (Camada de Visão)</h3>
                        <p>Interface gráfica com o usuário, captura entradas e exibe dados.</p>
                        <ul class="list-disc list-inside">
                            <li><strong>UViewLogin.pas</strong> → Tela de login.</li>
                            <li><strong>UViewPrincipal.pas</strong> → Tela principal da aplicação.</li>
                            <li><strong>UViewEditorPlanilha.pas</strong> → Editor para planilhas.</li>
                            <li><strong>UViewEditorRelatorio.pas</strong> → Editor para relatórios.</li>
                            <li><strong>UViewGerenciadorDados.pas</strong> → Permite gerenciar dados salvos.</li>
                            <li><strong>UViewCompartilhamento.pas</strong> → Funcionalidade de compartilhar planilhas e relatórios.</li>
                            <li><strong>UViewVisualizadorRelatorio.pas</strong> → Visualiza relatórios gerados.</li>
                            <li><strong>UViewModalTermos.pas</strong> → Exibe e gerencia aceite de termos.</li>
                        </ul>

                        <h3 class="text-xl font-bold text-teal-400 mt-6">src/utils/ (Camada de Utilitários)</h3>
                        <ul class="list-disc list-inside">
                            <li><strong>UAppConstants.pas</strong> → Define constantes globais.</li>
                            <li><strong>UAppUtils.pas</strong> → Funções auxiliares reutilizáveis.</li>
                            <li><strong>UServerPinger.pas</strong> → Verifica disponibilidade do servidor.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </main>
        <footer class="mt-12 pt-8 border-t border-gray-700 text-center text-gray-500">
            <p>Documento gerado para fins de referência e visualização.</p>
        </footer>
    </div>

    <script>
        function showDiagramGroup(groupId) {
            // Esconde todos os grupos
            const groups = document.querySelectorAll('[id^="group-"]');
            groups.forEach(group => {
                // A exceção é o grupo de layouts, que não deve ser escondido ao carregar a página
                if (group.id !== 'group-layouts' || document.body.dataset.pageLoaded) {
                    group.classList.add('hidden');
                }
            });

            // Mostra apenas o grupo clicado
            const selectedGroup = document.getElementById(groupId);
            if (selectedGroup) {
                selectedGroup.classList.remove('hidden');
            }

            // Atualiza cores dos botões
            const buttons = document.querySelectorAll('[id^="btn-"]');
            buttons.forEach(btn => {
                btn.classList.remove('bg-purple-600');
                btn.classList.add('bg-gray-800');
            });
            // Marca o botão ativo
            const activeBtn = document.querySelector(`[onclick="showDiagramGroup('${groupId}')"]`);
            if (activeBtn) {
                activeBtn.classList.remove('bg-gray-800');
                activeBtn.classList.add('bg-purple-600');
            }
            
            // Marca que a página já teve interação
            document.body.dataset.pageLoaded = true;
        }

        // Garante que a primeira aba ('Designs de Layout') seja exibida ao carregar a página
        document.addEventListener('DOMContentLoaded', () => {
            showDiagramGroup('group-layouts');
        });
    </script>
</body>
</html>